---
outline: [2,3]
description: 在 Olares 中配置文件索引，控制搜索范围、管理排除规则，并为特定目录启用全文搜索。
---
# 配置文件搜索

文件搜索可以帮你自定义 Olares 对数据进行索引和搜索的方式。通过配置相应规则，你可以控制全局搜索的覆盖范围，以及哪些目录支持全文搜索。

本文将帮助你理理解并配置索引规则，优化你的搜索体验。

另请参阅[在 Olares 中搜索](/zh/manual/olares/desktop.md#使用全局搜索)来了解如何使用全局搜索。

:::tip 搜索范围
文件搜素设置仅适用于你在 Olares 中的自有文件。  

团队成员与你共享的文件或文件夹默认支持全局搜索，无需手动添加到这些规则中。
:::

## 了解搜索设置

Olares 的文件搜索由三个核心部分组成。理解其作用和关联，可以帮助你更好地管理系统的索引行为：
![文件搜索](/images/zh/manual/olares/file-search.png#bordered)

### 搜索索引

**搜索索引**区域显示当前的索引状态，你可在需要时手动重建索引。

当系统内的文件发生变化或你更新了搜索规则后，Olares 会在 30 秒内自动刷新索引。大多数情况下，你只需等待自动更新即可。需要立即使用最新设置重建搜索索引，可以点击**重建**。

索引状态含义如下：
- **处理中**：索引正在更新，在此期间搜索结果可能暂时不完整。
- **已完成**：索引已更新完，搜索结果将反映最新的文件和规则。

### 排除文件

排除文件相当于搜索引擎的全局忽略列表。

- 文件名或路径匹配到这些规则的文件，会完全排除在索引之外。  
- 被排除的文件不会出现在搜索结果中。
- 规则使用正则表达式来定义。

### 全文搜索目录

默认情况下，Olares 仅根据文件名建立索引。你可以配置全文搜索目录为特定文件夹启用内容搜索。

- 加入列表中的目录：支持文件名搜索和文本内容搜索。
- 未在列表中的目录：仅支持文件名搜索。

## 查看搜索索引状态

要查看当前搜索索引状态：

1. 从启动台打开设置。
2. 进入**搜索** > **文件搜索**。
3. 在面板顶部找到搜索索引区域。

如需立即使用最新设置重建搜索索引，请点击**重建**。

## 配置搜索规则

在文件搜索页面，你可以通过排除无关文件来优化索引范围，也可以为特定文件夹启用全文搜索，从而提升搜索效果。

### 排除文件

排除文件设置可以防止某些文件（例如系统日志、临时文件等）干扰你的搜索结果。

你可以添加排除规则，即使用**正则表达**来指定需要被 Olares 忽略的文件路径。

**添加匹配规则：**
1. 在排除文件区域下方，点击**添加匹配规则**。
2. 输入有效的正则表达式，用于匹配你希望忽略的文件
3. 点击**确认**。

**删除匹配规则：**
1. 在排除文件区域找到目标规则。
2. 点击规则旁边的<i class="material-symbols-outlined">delete</i>按钮。
3. 在弹出的确认窗口中点击**确认**。

:::warning 关于正则表达式
如果你不熟悉正则表达式，建议从简单规则开始，谨慎测试。
错误的表达可能会导致无法搜索到想要的文件。
:::

### 全文搜索目录

通过配置全文搜索目录，你可以对指定文件夹内的文档内容进行全文检索，而不仅限于按文件名搜索。

将指定**文件夹**添加到全文搜索目录列表，即可启用全文搜索。添加后，该文件夹内受支持的文件将同时支持按文件名和内容进行搜索。

**添加目录：**
1. 在全文搜索目录下，点击**添加目录**。
2. 选择目标文件夹。
3. 点击**确认**将其加入列表。

**删除目录：**
1. 在全文搜索目录下，找到目标目录。
2. 点击目录旁边的<i class="material-symbols-outlined">delete</i>按钮。
3. 在弹出的确认窗口中点击**确认**。

:::tip 支持的文件格式
全文搜索目前支持以下文件类型：<br> `.pdf`、`.doc`、`.docx`、`.csv`、`.rtf`、`.txt`、`.md`、`.json`、`.xml`。
:::