---
outline: [2, 3]
description: 通过 Olares 应用市场发现和管理应用，掌握安装更新和卸载方法，了解集群应用和自定义应用的部署流程。
---

# 安装、卸载和更新

本文档介绍如何安装、更新和卸载应用，以及如何安装自定义应用。

## 开始之前

在开始之前，建议你先熟悉一些与 Olares 应用相关的概念：

| 术语                                      | 描述                                                           |
|-----------------------------------------|--------------------------------------------------------------|
| [系统应用](../../../developer/concepts/application.md#系统应用) | Olares 内置的预安装应用，例如 Profile、文件管理器和 Vault。                     |
| [社区应用](../../../developer/concepts/application.md#社区应用) | 由第三方开发者创建和维护的应用。                                             |
| [共享应用](../../../developer/concepts/application.md#共享应用) | 一种特殊类型的社区应用，向集群范围的授权应用共享服务和资源。 |
| [授权应用](../../../developer/concepts/application.md#授权应用) | 被授权访问共享应用的一类应用。                                                |
| [依赖项](../../../developer/concepts/application.md#依赖项)   | 应用需要先安装的前置应用。                                                |

## 查找应用

Olares **应用市场**提供多种方式发现和浏览应用。

![Market](/images/manual/olares/market-discover-1.png#bordered)

### 按类别浏览

启动 Market 应用后，默认进入 **发现** 页面。该页面作为你的核心探索枢纽，通过直观的版块分类引导你探索各类内容：
* **发现精彩应用**：由编辑团队精心甄选的特色应用，展示当前热门及应季推荐。点击这些轮播图即可进入相应细节内容，如综合指南、行业应用案例、详细的应用横向评测等，旨在帮助你精准选择工具。
* **社区推荐**：最受 Olares 社区喜爱的推荐应用。
* **Olares 最受欢迎应用**：使用率和下载量最高的应用。
* **Olares 最新应用**：最近添加到市场的应用。

你还可以根据功能浏览应用：
* **设计创作**：用于创建和发布数字内容的应用程序，包括 AI 生成的艺术、3D 模型、博客和设计项目。
* **工作效率**：用于团队协作、项目管理、数据组织和构建自定义 AI 代理的应用。
* **开发工具**：软件开发生命周期的工具链，包括代码托管、CI/CD、可观察性和数据库管理。
* **休闲娱乐**：用于娱乐和休闲的自托管应用程序，如游戏、视频流媒体和社交。
* **生活方式**：用于管理智能家居、个人照片库和 AI 身份的自托管应用。
* **实用工具**：用于系统管理、文件共享、数据备份和运行本地 AI 模型的工具。
* **AI**：最新的开源大语言模型（LLMs），以及涵盖文本、音频和 3D 资产生成的 AI 创作工具。

### 使用关键词搜索

要在市场中搜索应用：
![搜索 app](/images/manual/olares/search-app.png#bordered)

1. 在左侧的**管理**子菜单中，点击**搜索**。
2. 输入关键词。相关结果将随你在输入时显示。

### 切换应用源 

您可以选择不同的应用商店源，以加快浏览、搜索和下载应用的速度，或者安装某些源特有的应用。要切换应用源：
1. 打开**应用市场**，从左侧导航栏进入**我的 Olares** > **设置**。
2. 在**市场来源**下，点击**添加源**以添加新的应用源。当前 Olares 官方源包括：
   - 国际源： https://appstore-server-prod.bttcdn.com   
   - 国内源：https://appstore-china-server-prod.api.jointerminus.cn
3. 按要求填写源标题、URL、以及描述后，点击**确认**完成添加。 
4. 在源列表中，选择您希望使用的源以将其激活。等待大约 10 分钟，商店页面就会更新到新的源。

::: tip 注意
不同安装源在**我的 Olares**页面会生成相应的页签，以便于管理应用。
:::

## 安装应用

1. 打开**应用市场**，找到所需应用，点击**获取**。
2. 当操作按钮变为“**安装**”时，点击以开始安装。
3. 安装完成后，按钮将变为“**打开**”。

:::tip
若要取消安装，在操作按钮上悬停，点击**取消**。
:::

### 安装共享应用和授权应用

为确保共享服务在集群内正常运行和可访问，请根据共享应用的类型采取相应的安装流程：

* **无界面的后端服务应用**：
    此类共享应用通常需要通过其他授权应用为用户提供使用入口，以 Ollama 为例：
    1. 管理员先安装 Ollama。安装后，共享服务在集群内可用。
    2. 集群成员（包括管理员）安装相应的授权应用以访问共享服务，如，Open WebUI 或 LobeChat。

* **自带用户界面的完整应用**：
    此类应用可独立为用户提供服务，如 Dify 共享版、ComfyUI 共享版等。
    
    1. 管理员首先安装共享应用。此步会启用集群的共享服务，同时也安装一个同名客户端界面作为访问入口。
        ::: tip ComfyUI 启动器
        ComfyUI 共享版包含一个桌面启动器组件，用于管理 ComfyUI 服务和相关资源。管理员需要从 ComfyUI 启动器里配置并启用服务。
        :::
    2. 集群中的其他成员安装相同的共享版应用。对于这些用户，安装的仅是一个服务访问入口。

### 安装自定义应用

1. 准备 Olares 应用 Chart 文件（格式为 `.zip`、`.tgz`、`.tar` 或 `.gz`）。
2. 打开应用市场，从左侧菜单进入**我的 Olares**。
3. 点击右上角**上传自定义 Chart**并选择 Chart 文件以安装。

你可以在**上传**页签查看并管理所有本地自定义应用。

### 环境变量设置

在应用安装过程中，如果某个环境变量是应用运行必需的，且该变量无默认值或引用的系统变量尚未设置，应用市场会弹出设置提醒窗口：
![设置环境变量](/images/manual/olares/set-app-env-var.jpeg#bordered)

* **自定义变量**：您可以直接在安装弹窗中输入值。
* **引用的系统变量**：您需要先前往 **设置 > 开发者 > 系统环境变量** 页面设置相应变量值。

完成设置后可点击继续安装。

## 更新应用
从应用市场下载的应用可按以下步骤获取更新：

1. 打开**应用市场**。
2. 在左侧边栏**管理**子菜单下点击**更新**。如果有更新可用，将显示标记数字。
3. **可用更新**页面会列出可更新应用。点击**全部更新**以一次性更新所有应用，或单独更新每个应用。

## 卸载应用

### 从应用市场卸载

1. 打开**应用市场**。
2. 点击左侧边栏的**我的 Olares** 查看所有已安装应用。你可以切换安装源页签以快速找到目标应用。
3. 点击应用操作按钮旁的 <i class="material-symbols-outlined">keyboard_arrow_down</i>，选择**卸载**。

### 从启动台卸载

1. 在 Olares 中，点击 Dock 中的启动台图标，显示所有已安装应用。
2. 点击并按住应用图标，直到所有应用开始抖动。
3. 点击应用图标上的 <i class="material-symbols-outlined">cancel</i> 卸载。

## 查看应用操作日志

应用操作日志详细记录了应用在市场里的安装、下载、更新和卸载等操作的过程与状态。要访问这些日志：

1. 打开**应用市场**。 
2. 从左侧边栏进入**我的 Olares**。 
3. 页面右上角点击**日志**以进入具体日志页面。

你可以点击 <i class="material-symbols-outlined">download</i> 按钮以下载这些日志以进一步分析。

## 常见问题

### 为什么我无法安装应用？

如果无法安装应用，可能是由于以下原因：
* **系统资源不足**：尝试释放系统资源，或增加资源配额。
* **缺少依赖项**：在应用详情页在检查是否已安装所需依赖项。
* **系统版本不兼容**：尝试将 Olares 升级到最新版本。
* **共享应用限制**（对于 Olares 成员）：安装授权应用，并联系你的 Olares 管理员安装相应的共享应用。

### 为什么无法恢复应用？

当你尝试在 Olares 中恢复一个应用时，如果收到关于 CPU、内存或存储空间不足的提示，说明当前系统的剩余资源无法支持该应用的运行，你需要先关闭其他应用以释放资源。

#### 为什么应用处于停止状态？

应用停止运行通常是由于以下原因之一：
* **系统自动停止**：为了保障 Olares 的稳定性，系统会持续监控资源使用情况。如果某个应用瞬间占用了过高的资源（如 CPU 或内存），导致系统负载过高，系统可能会自动暂停该应用，以防止整个设备卡顿或崩溃。
* **手动停止**：你或管理员此前可能手动停止了该应用，且尚未进行恢复操作。

#### 为什么我现在无法恢复应用？

启动应用需要预留一部分固定的计算资源。如果当前运行的其他应用已经占用了大部分资源，剩余的“空闲资源”就不够分配给你想要启动的这个应用了。

因此，当你尝试恢复应用时，可能会遇到以下提示：
| 错误提示 | 说明 |
| :--- | :--- |
| 系统 CPU/内存资源不足 | 整个系统的物理资源已接近耗尽。 |
| 系统存储空间不足 | 硬盘空间已满，无法写入新数据。 |
| 可用 CPU/内存不足 | 虽然系统仍有少量资源，但无法满足此应用启动所需的最低配置。 |

#### 如何恢复应用？

要恢复该应用，你需要释放一些被占用的资源：

1. 进入**设置** > **应用**，查看当前状态为`运行中`的应用。
2. 找到你暂时不需要使用的应用。
3. 点击该应用，然后点击 <i class="material-symbols-outlined">toggle_on</i> 以关闭运行状态，从而停止该应用。
4. 资源释放后，回到你原来的应用，再次点击**恢复**。
